# --- General Project Info ---
sonar.projectKey=ysriser_BinItRightOrchestrator
sonar.projectName=BinItRightOrchestrator
sonar.organization=ysriser

# CRITICAL: Allow Sonar to see content inside submodule directories
sonar.scm.exclusions.disabled=true

# Parent acts as a shell (No sonar.sources here to avoid double-indexing)
sonar.modules=mobile,web,ml

# ==========================================
# MODULE 1: ANDROID MOBILE APP
# ==========================================
mobile.sonar.projectName=Android Mobile App
mobile.sonar.projectBaseDir=BinItRightMobileApp
mobile.sonar.sources=app/src/main/java
mobile.sonar.tests=app/src/test/java
mobile.sonar.java.binaries=app/build/intermediates/javac/localDebug/classes,app/build/tmp/kotlin-classes/localDebug
# WILDCARD FIX: Finds the report anywhere inside the mobile directory
mobile.sonar.coverage.jacoco.xmlReportPaths=**/jacocoTestReport.xml

# ==========================================
# MODULE 2: JAVA/SPRING BOOT WEB APP
# ==========================================
web.sonar.projectName=Spring Boot Web Application
web.sonar.projectBaseDir=BinItRightWebApp
web.sonar.sources=src/main/java
web.sonar.tests=src/test/java
web.sonar.java.binaries=target/classes
web.sonar.java.test.binaries=target/test-classes
web.sonar.java.libraries=target/dependency/*.jar
web.sonar.java.source=21
# WILDCARD FIX: Finds the report anywhere inside the web directory
web.sonar.coverage.jacoco.xmlReportPaths=**/jacoco.xml

# ==========================================
# MODULE 3: PYTHON ML SERVICE
# ==========================================
ml.sonar.projectName=Python ML Service
ml.sonar.projectBaseDir=BinItRightML
ml.sonar.sources=.
ml.sonar.tests=tests
ml.sonar.python.version=3.11
# FIX: Prevents "File can't be indexed twice" error
ml.sonar.exclusions=tests/**, **/tests/**
# WILDCARD FIX:
ml.sonar.python.coverage.reportPaths=**/coverage.xml

# ==========================================
# GLOBAL EXCLUSIONS
# ==========================================
sonar.coverage.exclusions=**/*Test*.java,**/*Test*.kt,**/test/**,**/tests/**,**/*.xml
sonar.exclusions=**/build/**,**/target/**,**/*.xml,**/*.json,**/node_modules/**,**/.gradle/**,**/venv/**
sonar.test.exclusions=**/test/**,**/tests/**,**/*Test.java,**/*Test.kt